<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE pkgmetadata SYSTEM "http://www.gentoo.org/dtd/metadata.dtd">
<pkgmetadata>
	<maintainer type="person">
		<email>gentoo@houseofsuns.org</email>
		<name>Markus Walter</name>
	</maintainer>
	<longdescription>&lt;p align=&quot;center&quot;&gt;    &lt;img src=&quot;https://raw.githubusercontent.com/ml6team/fondant/main/docs/art/fondant_banner.svg&quot; height=&quot;250px&quot;/&gt;&lt;/p&gt;&lt;p align=&quot;center&quot;&gt;    &lt;i&gt;Sweet data-centric foundation model fine-tuning&lt;/i&gt;    &lt;br&gt;    &lt;a href=&quot;https://fondant.readthedocs.io/en/stable/&quot;&gt;&lt;strong&gt;Explore the docs ¬ª&lt;/strong&gt;&lt;/a&gt;    &lt;br&gt;    &lt;br&gt;    &lt;a href=&quot;https://discord.gg/HnTdWhydGp&quot;&gt;&lt;img alt=&quot;Discord&quot; src=&quot;https://dcbadge.vercel.app/api/server/HnTdWhydGp?style=flat-square&quot;&gt;&lt;/a&gt;    &lt;a href=&quot;https://pypi.org/project/fondant/&quot;&gt;&lt;img alt=&quot;PyPI version&quot; src=&quot;https://img.shields.io/pypi/v/fondant?color=brightgreen&amp;style=flat-square&quot;&gt;&lt;/a&gt;    &lt;a href=&quot;https://fondant.readthedocs.io/en/latest/license/&quot;&gt;&lt;img alt=&quot;License&quot; src=&quot;https://img.shields.io/github/license/ml6team/fondant?style=flat-square&amp;color=brightgreen&quot;&gt;&lt;/a&gt;    &lt;a href=&quot;https://github.com/ml6team/fondant/actions/workflows/pipeline.yaml&quot;&gt;&lt;img alt=&quot;GitHub Workflow Status&quot; src=&quot;https://img.shields.io/github/actions/workflow/status/ml6team/fondant/pipeline.yaml?style=flat-square&quot;&gt;&lt;/a&gt;    &lt;a href=&quot;https://coveralls.io/github/ml6team/fondant?branch=main&quot;&gt;&lt;img alt=&quot;Coveralls&quot; src=&quot;https://img.shields.io/coverallsCoverage/github/ml6team/fondant?style=flat-square&quot;&gt;&lt;/a&gt;&lt;/p&gt;---**Fondant helps you create high quality datasets to train or fine-tune foundation models such as:**- üé® Stable Diffusion  - üìÑ GPT-like Large Language Models (LLMs)  - üîé CLIP  - ‚úÇÔ∏è Segment Anything (SAM)  - ‚ûï And many more## ü™§ Why Fondant?Foundation models simplify inference by solving multiple tasks across modalities with a simpleprompt-based interface. But what they've gained in the front, they've lost in the back. **These models require enormous amounts of data, moving complexity towards data preparation**, and leaving few parties able to train their own models.We believe that **innovation is a group effort**, requiring collaboration. While the community has been building and sharing models, everyone is still building their data preparation from scratch.**Fondant is the platform where we meet to build and share data preparation workflows.**Fondant offers a framework to build **composable data preparation pipelines, with reusable components, optimized to handle massive datasets**. Stop building from scratch, and start reusing components to:- Extend your data with public datasets- Generate new modalities using captioning, segmentation, translation, image generation, ...- Distill knowledge from existing foundation models- Filter out low quality data- Deduplicate dataAnd create high quality datasets to fine-tune your own foundation models.&lt;p align=&quot;right&quot;&gt;(&lt;a href=&quot;#chocolate_bar-fondant&quot;&gt;back to top&lt;/a&gt;)&lt;/p&gt;## üí® Getting StartedAnxious to get started? Here's is a [step by step guide](https://fondant.readthedocs.io/en/stable/getting_started) to get your first pipeline up and running.## ü™Ñ Example pipelinesCurious to see what Fondant can do? Have a look at our example pipelines:### Fine-tuning ControlNetOur [example pipeline to generate data for ControlNet fine-tuning](examples/pipelines/controlnet-interior-design) allows you to create models that you can control using inpainting, segmentation, and regeneration. All you need to get started is a set of prompts describing the type of images to generate.For instance, using our ControlNet model fine-tuned on interior design images, allows you to generate the room of your dreams:| Input image                                                                                                          | Output image                                                                                                           ||----------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------|| ![input image](https://github.com/ml6team/fondant/blob/main/docs/art/interior_design_controlnet_input1.png?raw=true) | ![output image](https://github.com/ml6team/fondant/blob/main/docs/art/interior_design_controlnet_output1.jpg?raw=true) |Want to try out the resulting model yourself, head over to our [Hugging Face space](https://huggingface.co/spaces/ml6team/controlnet-interior-design)!### Fine-tuning Stable DiffusionUsing our [example pipeline to fine-tune Stable Diffusion](examples/pipelines/finetune_stable_diffusion) allows you to create models that generate better images within a specific domain. All you need to get started is a small seed dataset of example images.Eg. generating logos:| Stable Diffusion 1.5                                                                                     | Fine-tuned Stable Diffusion 1.5              ||----------------------------------------------------------------------------------------------------------|----------------------------------------------|| ![input image](https://github.com/ml6team/fondant/blob/main/docs/art/logo_stable_diffusion.jpg?raw=true) | ![output image](https://github.com/ml6team/fondant/blob/main/docs/art/logo_finetuned.jpeg?raw=true) |### Training StarcoderUsing our [example pipeline to train StarCoder](examples/pipelines/starcoder) provides a starting point to create datasets for training code assistants.&lt;p align=&quot;right&quot;&gt;(&lt;a href=&quot;#chocolate_bar-fondant&quot;&gt;back to top&lt;/a&gt;)&lt;/p&gt;## üß© Reusable componentsFondant comes with a library of reusable components, which can jumpstart your pipeline.| COMPONENT                                                                                                                  | DESCRIPTION                                                         ||----------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------|| **Data loading / writing**                                                                                                 |                                                                     || [load_from_hf_hub](https://github.com/ml6team/fondant/tree/main/components/load_from_hf_hub)                               | Load a dataset from the Hugging Face Hub                            || [write_to_hf_hub](https://github.com/ml6team/fondant/tree/main/components/write_to_hf_hub)                                 | Write a dataset to the Hugging Face Hub                             || [prompt_based_laion_retrieval](https://github.com/ml6team/fondant/tree/main/components/prompt_based_laion_retrieval)       | Retrieve images-text pairs from LAION using prompt similarity       || [embedding_based_laion_retrieval](https://github.com/ml6team/fondant/tree/main/components/embedding_based_laion_retrieval) | Retrieve images-text pairs from LAION using embedding similarity    || [download_images](https://github.com/ml6team/fondant/tree/main/components/download_images)                                 | Download images from urls                                           || **Image processing**                                                                                                       |                                                                     || [image_embedding](https://github.com/ml6team/fondant/tree/main/components/image_embedding)                                 | Create embeddings for images using a model from the HF Hub          || [image_resolution_extraction](https://github.com/ml6team/fondant/tree/main/components/image_resolution_extraction)         | Extract the resolution from images                                  || [filter_image_resolution](https://github.com/ml6team/fondant/tree/main/components/filter_image_resolution)                 | Filter images based on their resolution                             || [caption images](https://github.com/ml6team/fondant/tree/main/components/caption_images)                                   | Generate captions for images using a model from the HF Hub          || [segment_images](https://github.com/ml6team/fondant/tree/main/components/segment_images)                                   | Generate segmentation maps for images using a model from the HF Hub || [image_cropping](https://github.com/ml6team/fondant/tree/main/components/image_cropping)                                   | Intelligently crop out image borders                                || **Code processing**                                                                                                        |                                                                     || [pii_redaction](https://github.com/ml6team/fondant/tree/main/components/pii_redaction)                                     | Redact Personal Identifiable Information (PII)                      || [filter_comments](https://github.com/ml6team/fondant/tree/main/components/filter_comments)                                 | Filter code based on code to comment ratio                          || [filter_line_length](https://github.com/ml6team/fondant/tree/main/components/filter_line_length)                           | Filter code based on line length                                    || **Language processing**                                                                                                    | Coming soon                                                         || **Clustering**                                                                                                             | Coming soon                                                         |&lt;p align=&quot;right&quot;&gt;(&lt;a href=&quot;#chocolate_bar-fondant&quot;&gt;back to top&lt;/a&gt;)&lt;/p&gt;## ‚öíÔ∏è InstallationFondant can be installed using pip:```pip install fondant```For the latest development version, you might want to install from source instead:```pip install git+https://github.com/ml6team/fondant.git```### üß± Deploying FondantThere are 2 ways of using fondant:- Leveraging [Kubeflow pipelines](https://www.kubeflow.org/docs/components/pipelines/v1/introduction/) on any Kubernetes cluster. All Fondant needs is an url pointing to the Kubeflow pipeline host and an Object Storage provider (S3, GCS, etc) to store data produced in the pipeline between steps.  We have compiled some references and created some scripts to [get you started](https://fondant.readthedocs.io/en/latest/infrastructure) with setting up the required infrastructure.- Or locally by using [docker compose](https://docs.docker.com/compose/). This way is mainly aimed at helping you develop fondant pipelines and components faster by making it easier to run things on a smaller scale.The same pipeline can be used in both variants allowing you to quickly develop and iterate using the local Docker Compose implementation and then using the power of Kubeflow pipelines to run a large scale pipeline.&lt;p align=&quot;right&quot;&gt;(&lt;a href=&quot;#chocolate_bar-fondant&quot;&gt;back to top&lt;/a&gt;)&lt;/p&gt;## üë®üíª Usage#### PipelineFondant allows you to easily define data pipelines comprised of both reusable and custom components. The following pipeline for instance uses the reusable `load_from_hf_hub` component to load a dataset from the Hugging Face Hub and process it using a custom component:```pythonfrom fondant.pipeline import ComponentOp, Pipeline, Clientdef build_pipeline():    pipeline = Pipeline(pipeline_name=&quot;example pipeline&quot;, base_path=&quot;fs://bucket&quot;)    load_from_hub_op = ComponentOp.from_registry(        name=&quot;load_from_hf_hub&quot;,        arguments={&quot;dataset_name&quot;: &quot;lambdalabs/pokemon-blip-captions&quot;},    )    pipeline.add_op(load_from_hub_op)    custom_op = ComponentOp(        component_dir=&quot;components/custom_component&quot;,        arguments={            &quot;min_width&quot;: 600,            &quot;min_height&quot;: 600,        },    )    pipeline.add_op(custom_op, dependencies=load_from_hub_op)    return pipeline    if __name__ == &quot;__main__&quot;:    client = Client(host=&quot;https://kfp-host.com/&quot;)    pipeline = build_pipeline()    client.compile_and_run(pipeline=pipeline)```#### ComponentTo create a custom component, you first need to describe its contract as a yaml specification. It defines the data consumed and produced by the component and any arguments it takes.```yamlname: Custom componentdescription: This is a custom componentimage: custom_component:latestconsumes:  images:    fields:      data:        type: binaryproduces:  captions:    fields:      data:        type: utf8args:  argument1:    description: An argument passed to the component at runtime    type: str  argument2:    description: Another argument passed to the component at runtime    type: str```Once you have your component specification, all you need to do is implement a constructor and a single `.transform` method and Fondant will do the rest. You will get the data defined in your specification partition by partition as a Pandas dataframe.```pythonimport pandas as pdfrom fondant.component import PandasTransformComponentfrom fondant.executor import PandasTransformExecutorclass ExampleComponent(PandasTransformComponent):    def __init__(self, *args, argument1, argument2) -&gt; None:        &quot;&quot;&quot;        Args:            argumentX: An argument passed to the component        &quot;&quot;&quot;        # Initialize your component here based on the arguments    def transform(self, dataframe: pd.DataFrame) -&gt; pd.DataFrame:        &quot;&quot;&quot;Implement your custom logic in this single method        Args:            dataframe: A Pandas dataframe containing the data        Returns:            A pandas dataframe containing the transformed data        &quot;&quot;&quot;```For more advanced use cases, you can use the `DaskTransformComponent` instead.###  Running your pipelineOnce you have a pipeline you can easily run (and compile) it by using the built-in CLI:```bashfondant run foo.bar:pipeline --local```To see all available arguments you can check the fondant CLI help pages```bashfondant --help```Or for a subcommand:```bashfondant &lt;subcommand&gt; --help```&lt;p align=&quot;right&quot;&gt;(&lt;a href=&quot;#chocolate_bar-fondant&quot;&gt;back to top&lt;/a&gt;)&lt;/p&gt;## üöß Current state and roadmapFondant is currently in the alpha stage, offering a minimal viable interface. While you should expect to run into rough edges, the foundations are ready and Fondant should already be able to speed up your data preparation work.**The following topics are on our roadmap**- Local pipeline execution- Non-linear pipeline DAGs- LLM-focused example pipelines and reusable components- Static validation, caching, and partial execution of pipelines- Data lineage and experiment tracking- Distributed execution, both on and off cluster- Support other dataframe libraries such as HF Datasets, Polars, Spark- Move reusable components into a decentralized component registry- Create datasets of copy-right free data for fine-tuning- Create reusable components for bias detection and mitigationThe roadmap and priority are defined based on community feedback. To provide input, you can join [our discord](https://discord.gg/HnTdWhydGp) or submit an idea in our [Github Discussions](https://github.com/ml6team/fondant/discussions/categories/ideas).For a detailed view on the roadmap and day to day development, you can check our [github project board](https://github.com/orgs/ml6team/projects/1).&lt;p align=&quot;right&quot;&gt;(&lt;a href=&quot;#chocolate_bar-fondant&quot;&gt;back to top&lt;/a&gt;)&lt;/p&gt;## üë≠ ContributingWe welcome contributions of different kinds:|                                  |                                                                                                                                                                                                                                                                                                                           ||----------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|| **Issues**                       | If you encounter any issue or bug, please submit them as a [Github issue](https://github.com/ml6team/fondant/issues). You can also submit a pull request directly to fix any clear bugs.                                                                                                                                  || **Suggestions and feedback**     | If you have any suggestions or feedback, please reach out via our [Discord server](https://discord.gg/HnTdWhydGp) or [Github Discussions](https://github.com/ml6team/fondant/discussions)!                                                                                                                                || **Framework code contributions** | If you want to help with the development of the Fondant framework, have a look at the issues marked with the [good first issue](https://github.com/ml6team/fondant/issues?q=is%3Aopen+is%3Aissue+label%3A%22good+first+issue%22) label. If you want to add additional functionality, please submit an issue for it first. || **Reusable components**          | Extending our library of reusable components is a great way to contribute. If you built a component which would be useful for other users, please submit a PR adding them to the [components/](https://github.com/ml6team/fondant/tree/main/components) directory.                                                        || **Example pipelines**            | If you built a pipeline with Fondant which can serve as an example to other users, please submit a PR adding them to the [examples/](https://github.com/ml6team/fondant/tree/main/examples) directory.                                                                                                                    |### Environment setupWe use [poetry](https://python-poetry.org/docs/) and [pre-commit](https://pre-commit.com/) to enable a smooth developer flow. Run the following commands toset up your development environment:```commandlinepip install poetrypoetry installpre-commit install```&lt;p align=&quot;right&quot;&gt;(&lt;a href=&quot;#chocolate_bar-fondant&quot;&gt;back to top&lt;/a&gt;)&lt;/p&gt;</longdescription>
</pkgmetadata>