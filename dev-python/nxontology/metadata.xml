<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE pkgmetadata SYSTEM "http://www.gentoo.org/dtd/metadata.dtd">
<pkgmetadata>
	<maintainer type="person">
		<email>gentoo@houseofsuns.org</email>
		<name>Markus Walter</name>
	</maintainer>
	<longdescription># NetworkX-based Python library for representing ontologies[![GitHub Actions CI Build Status](https://img.shields.io/github/actions/workflow/status/related-sciences/nxontology/build.yaml?branch=main&amp;label=actions&amp;style=for-the-badge&amp;logo=github&amp;logoColor=white)](https://github.com/related-sciences/nxontology/actions)  [![Software License](https://img.shields.io/github/license/related-sciences/nxontology?style=for-the-badge&amp;logo=Apache&amp;logoColor=white)](https://github.com/related-sciences/nxontology/blob/main/LICENSE)  [![Code style: black](https://img.shields.io/badge/code%20style-black-000000.svg?style=for-the-badge&amp;logo=Python&amp;logoColor=white)](https://github.com/psf/black)  [![PyPI](https://img.shields.io/pypi/v/nxontology.svg?style=for-the-badge&amp;logo=PyPI&amp;logoColor=white)](https://pypi.org/project/nxontology/)  ## Summarynxontology is a Python library for representing ontologies using a NetworkX graph.Currently, the main area of functionality is computing similarity measures between pairs of nodes.## UsageHere, we'll use the example [metals ontology](https://jbiomedsem.biomedcentral.com/articles/10.1186/2041-1480-2-5/figures/1 &quot;From Figure 1 of Disjunctive shared information between ontology concepts: application to Gene Ontology. Couto &amp; Silva. 2011. Released under CC BY 2.0.&quot;):![Metals ontology from Couto &amp; Silva (2011)](https://raw.githubusercontent.com/related-sciences/nxontology/13de9d63ac9d08ffc1e25ee80e912c611b990473/media/metals.svg?sanitize=true)&lt;!-- use absolute URL instead of media/metals.svg for PyPI long_description --&gt;Note that `NXOntology` represents the ontology as a [`networkx.DiGraph`](https://networkx.org/documentation/stable/reference/classes/digraph.html), where edge direction goes from superterm to subterm.Given an `NXOntology` instance, here how to compute intrinsic similarity metrics.```pythonfrom nxontology.examples import create_metal_nxometals = create_metal_nxo()# Freezing the ontology prevents adding or removing nodes or edges.# Frozen ontologies cache expensive computations.metals.freeze()# Get object for computing similarity, using the Sanchez et al metric for information content.similarity = metals.similarity(&quot;gold&quot;, &quot;silver&quot;, ic_metric=&quot;intrinsic_ic_sanchez&quot;)# Access a single similarity metricsimilarity.lin# Access all similarity metricssimilarity.results()```The final line outputs a dictionary like:```python{    'node_0': 'gold',    'node_1': 'silver',    'node_0_subsumes_1': False,    'node_1_subsumes_0': False,    'n_common_ancestors': 3,    'n_union_ancestors': 5,    'batet': 0.6,    'batet_log': 0.5693234419266069,    'ic_metric': 'intrinsic_ic_sanchez',    'mica': 'coinage',    'resnik': 0.8754687373538999,    'resnik_scaled': 0.48860840553061435,    'lin': 0.5581154235118403,     'jiang': 0.41905978419640516,    'jiang_seco': 0.6131471927654584,}```It's also possible to visualize the similarity between two nodes like:```pythonfrom nxontology.viz import create_similarity_graphvizgviz = create_similarity_graphviz(    # similarity instance from above    similarity,    # show all nodes (defaults to union of ancestors)    nodes=list(metals.graph),)# draw to PNG filegviz.draw(&quot;metals-sim-gold-silver-all.png&quot;))```Resulting in the following figure:&lt;!-- from test output: cp nxontology/tests/viz_outputs/metals-sim-gold-silver-all.png media/ --&gt;![Metals ontology from Couto &amp; Silva (2011) showing similarity between gold and silver](https://raw.githubusercontent.com/related-sciences/nxontology/13de9d63ac9d08ffc1e25ee80e912c611b990473/media/metals-sim-gold-silver-all.png)The two query nodes (gold &amp; silver) are outlined with a bold dashed line.Node fill color corresponds to the Sánchez information content, such that darker nodes have higher IC.The most informative common ancestor (coinage) is outlined with a bold solid line.Nodes that are not an ancestor of gold or silver have an invisible outline.### Loading ontologiesPronto supports reading ontologies from the following file formats:1. [Open Biomedical Ontologies 1.4](http://owlcollab.github.io/oboformat/doc/GO.format.obo-1_4.html): `.obo` extension, uses the [fastobo](https://github.com/fastobo/fastobo-py) parser.2. [OBO Graphs JSON](https://github.com/geneontology/obographs): `.json` extension, uses the fastobo parser.3. [Ontology Web Language 2 RDF/XML](https://www.w3.org/TR/owl2-overview/): `.owl` extension, uses the pronto `RdfXMLParser`.The files can be local or at a network location (URL starting with https, http, or ftp).Pronto detects and handles gzip, bzip2, and xz compression.Here are examples operations on the Gene Ontology,using pronto to load the ontology:```python&gt;&gt;&gt; from nxontology.imports import from_file&gt;&gt;&gt; # versioned URL for the Gene Ontology&gt;&gt;&gt; url = &quot;http://release.geneontology.org/2021-02-01/ontology/go-basic.json.gz&quot;&gt;&gt;&gt; nxo = from_file(url)&gt;&gt;&gt; nxo.n_nodes44085&gt;&gt;&gt; # similarity between &quot;myelination&quot; and &quot;neurogenesis&quot;&gt;&gt;&gt; sim = nxo.similarity(&quot;GO:0042552&quot;, &quot;GO:0022008&quot;)&gt;&gt;&gt; round(sim.lin, 2)0.21&gt;&gt;&gt; import networkx as nx&gt;&gt;&gt; # Gene Ontology domains are disconnected, expect 3 components&gt;&gt;&gt; nx.number_weakly_connected_components(nxo.graph)3&gt;&gt;&gt; # Note however that the default from_file reader only uses &quot;is a&quot; relationships.&gt;&gt;&gt; # We can preserve all GO relationship types as follows&gt;&gt;&gt; from collections import Counter&gt;&gt;&gt; import pronto&gt;&gt;&gt; from nxontology import NXOntology&gt;&gt;&gt; from nxontology.imports import pronto_to_multidigraph, multidigraph_to_digraph&gt;&gt;&gt; go_pronto = pronto.Ontology(handle=url)&gt;&gt;&gt; go_multidigraph = pronto_to_multidigraph(go_pronto)&gt;&gt;&gt; Counter(key for _, _, key in go_multidigraph.edges(keys=True))Counter({'is a': 71509,         'part of': 7187,         'regulates': 3216,         'negatively regulates': 2768,         'positively regulates': 2756})&gt;&gt;&gt; go_digraph = multidigraph_to_digraph(go_multidigraph, reduce=True)&gt;&gt;&gt; go_nxo = NXOntology(go_digraph)&gt;&gt;&gt; # Notice the similarity increases due to the full set of edges&gt;&gt;&gt; round(go_nxo.similarity(&quot;GO:0042552&quot;, &quot;GO:0022008&quot;).lin, 3)0.699&gt;&gt;&gt; # Note that there is also a dedicated reader for the Gene Ontology&gt;&gt;&gt; from nxontology.imports import read_gene_ontology&gt;&gt;&gt; read_gene_ontology(release=&quot;2021-02-01&quot;)```Users can also create their own `networkx.DiGraph` to use this package.### Prebuilt OntologiesThe [nxontology-data](https://github.com/related-sciences/nxontology-data) repository creates NXOntology objects for many popular ontologies / taxonomies.## Installationnxontology can be installed with `pip` from [PyPI](https://pypi.org/project/nxontology/) like:```shell# standard installationpip install nxontology# installation with viz extraspip install nxontology[viz]```The extra `viz` dependencies are required for the `nxontology.viz` module.This includes [pygraphviz](https://pygraphviz.github.io/), which requires a pre-existing [graphviz](https://graphviz.org/) installation.## DevelopmentSome helpful development commands:```shell# create a virtual environment for developmentpython3 -m venv .venv# activate virtual environmentsource .venv/bin/activate# install package for developmentpip install --editable &quot;.[dev,viz]&quot;# Set up the git pre-commit hooks.# `git commit` will now trigger automatic checks including linting.pre-commit install# Run all pre-commit checks (CI will also run this).pre-commit run --all# run testspytest```Releases are created on [GitHub](https://github.com/related-sciences/nxontology/releases).The [release action](https://github.com/related-sciences/nxontology/actions/workflows/release.yaml) defined by [`release.yaml`](https://github.com/related-sciences/nxontology/blob/main/.github/workflows/release.yaml) will build the distribution and upload to [PyPI](https://pypi.org/project/nxontology/).The package version is automatically generated from the git tag by [`setuptools_scm`](https://github.com/pypa/setuptools_scm).## BibliographyHere's a list of alternative projects with code for computing semantic similarity measures on ontologies:- [Semantic Measures Library &amp; ToolKit](https://www.semantic-measures-library.org/sml/) at [sharispe/slib](https://github.com/sharispe/slib) in Java.- [DiShIn](http://labs.rd.ciencias.ulisboa.pt/dishin/) at [lasigeBioTM/DiShIn](https://github.com/lasigeBioTM/DiShIn) in Python.- [Sematch](http://sematch.gsi.upm.es/) at [gsi-upm/sematch](https://github.com/gsi-upm/sematch) in Python.- [ontologySimilarity](https://rdrr.io/cran/ontologySimilarity/) mirrored at [cran/ontologySimilarity](https://github.com/cran/ontologySimilarity). Part of the [ontologyX](https://doi.org/10.1093/bioinformatics/btw763 &quot;ontologyX: a suite of R packages for working with ontological data&quot;) suite of R packages. - Materials for Machine Learning with Ontologies at [bio-ontology-research-group/machine-learning-with-ontologies](https://github.com/bio-ontology-research-group/machine-learning-with-ontologies) (compilation)Below are a list of references related to ontology-derived measures of similarity.Feel free to add any reference that provides useful context and details for algorithms supported by this package.Metadata for a reference can be generated like `manubot cite --yml doi:10.1016/j.jbi.2011.03.013`.Adding CSL YAML output to `media/bibliography.yaml` will cache the metadata and allow manual edits in case of errors.&lt;!--# code to generate references (uses cached metadata in bibliography.yaml if available)manubot cite \  --md \  --bibliography=media/bibliography.yaml \  doi:10.1371/journal.pcbi.1000443 \  url:https://citeseerx.ist.psu.edu/viewdoc/summary?doi=10.1.1.1065.1695 \  doi:10.1186/1471-2105-9-S5-S4 \  doi:10.1093/bib/bbaa199 \  doi:10.1613/jair.514 \  https://api.semanticscholar.org/CorpusID:5659557 \  doi:10.1093/bioinformatics/btw763 \  https://dl.acm.org/doi/10.5555/1862330.1862343 \  doi:10.1186/2041-1480-2-5 \  doi:10.1016/j.jbi.2013.11.006 \  doi:10.5772/intechopen.89032 \  doi:10.1016/j.jbi.2010.09.002 \  doi:10.1186/1471-2105-13-261 \  doi:10.1016/j.jbi.2011.03.013 \  doi:10.1016/j.knosys.2010.10.001 \  doi:10.1007/s10462-019-09725-4 \  doi:10.1002/asi.24021```bash# future code to render references with pandoc &gt; 2.11pandoc \  --citeproc \  --metadata=nocite:\'@*\' \  --csl=https://citation-style.manubot.org \  --bibliography=media/bibliography.yaml \  --wrap=none \  --to=markdown_strict-raw_html &lt;&lt;&lt; &quot;&quot;```--&gt;1. **Semantic Similarity in Biomedical Ontologies**   Catia Pesquita, Daniel Faria, André O. Falcão, Phillip Lord, Francisco M. Couto  *PLoS Computational Biology* (2009-07-31) &lt;https://doi.org/cx8h87&gt;   DOI: [10.1371/journal.pcbi.1000443](https://doi.org/10.1371/journal.pcbi.1000443) · PMID: [19649320](https://www.ncbi.nlm.nih.gov/pubmed/19649320) · PMCID: [PMC2712090](https://www.ncbi.nlm.nih.gov/pmc/articles/PMC2712090)2. **An Intrinsic Information Content Metric for Semantic Similarity in WordNet.**   Nuno Seco, Tony Veale, Jer Hayes  *In Proceedings of the 16th European Conference on Artificial Intelligence (ECAI-04),* (2004) &lt;https://citeseerx.ist.psu.edu/viewdoc/summary?doi=10.1.1.1065.1695&gt;3. **Metrics for GO based protein semantic similarity: a systematic evaluation**   Catia Pesquita, Daniel Faria, Hugo Bastos, António EN Ferreira, André O Falcão, Francisco M Couto  *BMC Bioinformatics* (2008-04-29) &lt;https://doi.org/cmcgw6&gt;   DOI: [10.1186/1471-2105-9-s5-s4](https://doi.org/10.1186/1471-2105-9-s5-s4) · PMID: [18460186](https://www.ncbi.nlm.nih.gov/pubmed/18460186) · PMCID: [PMC2367622](https://www.ncbi.nlm.nih.gov/pmc/articles/PMC2367622)4. **Semantic similarity and machine learning with ontologies**   Maxat Kulmanov, Fatima Zohra Smaili, Xin Gao, Robert Hoehndorf  *Briefings in Bioinformatics* (2020-10-13) &lt;https://doi.org/ghfqkt&gt;   DOI: [10.1093/bib/bbaa199](https://doi.org/10.1093/bib/bbaa199) · PMID: [33049044](https://www.ncbi.nlm.nih.gov/pubmed/33049044)5. **Semantic Similarity in a Taxonomy: An Information-Based Measure and its Application to Problems of Ambiguity in Natural Language**   P. Resnik  *Journal of Artificial Intelligence Research* (1999-07-01) &lt;https://doi.org/gftcpz&gt;   DOI: [10.1613/jair.514](https://doi.org/10.1613/jair.514)6. **An Information-Theoretic Definition of Similarity**   Dekang Lin  *ICML* (1998) &lt;https://api.semanticscholar.org/CorpusID:5659557&gt;7. **ontologyX: a suite of R packages for working with ontological data**   Daniel Greene, Sylvia Richardson, Ernest Turro  *Bioinformatics* (2017-01-05) &lt;https://doi.org/f9k7sx&gt;   DOI: [10.1093/bioinformatics/btw763](https://doi.org/10.1093/bioinformatics/btw763) · PMID: [28062448](https://www.ncbi.nlm.nih.gov/pubmed/28062448) · PMCID: [PMC5386138](https://www.ncbi.nlm.nih.gov/pmc/articles/PMC5386138)8. **Metric of intrinsic information content for measuring semantic similarity in an ontology**   Md. Hanif Seddiqui, Masaki Aono  *Proceedings of the Seventh Asia-Pacific Conference on Conceptual Modelling - Volume 110* (2010-01-01) &lt;https://dl.acm.org/doi/10.5555/1862330.1862343&gt;   ISBN: [9781920682927](https://worldcat.org/isbn/9781920682927)9. **Disjunctive shared information between ontology concepts: application to Gene Ontology**   Francisco M Couto, Mário J Silva  *Journal of Biomedical Semantics* (2011) &lt;https://doi.org/fnb73v&gt;   DOI: [10.1186/2041-1480-2-5](https://doi.org/10.1186/2041-1480-2-5) · PMID: [21884591](https://www.ncbi.nlm.nih.gov/pubmed/21884591) · PMCID: [PMC3200982](https://www.ncbi.nlm.nih.gov/pmc/articles/PMC3200982)10. **A framework for unifying ontology-based semantic similarity measures: A study in the biomedical domain**   Sébastien Harispe, David Sánchez, Sylvie Ranwez, Stefan Janaqi, Jacky Montmain  *Journal of Biomedical Informatics* (2014-04) &lt;https://doi.org/f52557&gt;   DOI: [10.1016/j.jbi.2013.11.006](https://doi.org/10.1016/j.jbi.2013.11.006) · PMID: [24269894](https://www.ncbi.nlm.nih.gov/pubmed/24269894)11. **Semantic Similarity in Cheminformatics**   João D. Ferreira, Francisco M. Couto  *IntechOpen* (2020-07-15) &lt;https://doi.org/ghh2d4&gt;   DOI: [10.5772/intechopen.89032](https://doi.org/10.5772/intechopen.89032)12. **An ontology-based measure to compute semantic similarity in biomedicine**   Montserrat Batet, David Sánchez, Aida Valls  *Journal of Biomedical Informatics* (2011-02) &lt;https://doi.org/dfhkjv&gt;   DOI: [10.1016/j.jbi.2010.09.002](https://doi.org/10.1016/j.jbi.2010.09.002) · PMID: [20837160](https://www.ncbi.nlm.nih.gov/pubmed/20837160)13. **Semantic similarity in the biomedical domain: an evaluation across knowledge sources**   Vijay N Garla, Cynthia Brandt  *BMC Bioinformatics* (2012-10-10) &lt;https://doi.org/gb8vpn&gt;   DOI: [10.1186/1471-2105-13-261](https://doi.org/10.1186/1471-2105-13-261) · PMID: [23046094](https://www.ncbi.nlm.nih.gov/pubmed/23046094) · PMCID: [PMC3533586](https://www.ncbi.nlm.nih.gov/pmc/articles/PMC3533586)14. **Semantic similarity estimation in the biomedical domain: An ontology-based information-theoretic perspective**   David Sánchez, Montserrat Batet  *Journal of Biomedical Informatics* (2011-10) &lt;https://doi.org/d2436q&gt;   DOI: [10.1016/j.jbi.2011.03.013](https://doi.org/10.1016/j.jbi.2011.03.013) · PMID: [21463704](https://www.ncbi.nlm.nih.gov/pubmed/21463704)15. **Ontology-based information content computation**   David Sánchez, Montserrat Batet, David Isern  *Knowledge-Based Systems* (2011-03) &lt;https://doi.org/cwzw4r&gt;   DOI: [10.1016/j.knosys.2010.10.001](https://doi.org/10.1016/j.knosys.2010.10.001)16. **Leveraging synonymy and polysemy to improve semantic similarity assessments based on intrinsic information content**   Montserrat Batet, David Sánchez  *Artificial Intelligence Review* (2019-06-03) &lt;https://doi.org/ghnfmt&gt;   DOI: [10.1007/s10462-019-09725-4](https://doi.org/10.1007/s10462-019-09725-4)17. **An intrinsic information content-based semantic similarity measure considering the disjoint common subsumers of concepts of an ontology**   Abhijit Adhikari, Biswanath Dutta, Animesh Dutta, Deepjyoti Mondal, Shivang Singh  *Journal of the Association for Information Science and Technology* (2018-08) &lt;https://doi.org/gd2j5b&gt;   DOI: [10.1002/asi.24021](https://doi.org/10.1002/asi.24021)</longdescription>
</pkgmetadata>