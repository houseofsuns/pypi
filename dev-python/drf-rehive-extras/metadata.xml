<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE pkgmetadata SYSTEM "http://www.gentoo.org/dtd/metadata.dtd">
<pkgmetadata>
	<maintainer type="person">
		<email>gentoo@houseofsuns.org</email>
		<name>Markus Walter</name>
	</maintainer>
	<longdescription>&lt;p align=&quot;center&quot;&gt;  &lt;img width=&quot;64&quot; src=&quot;https://avatars2.githubusercontent.com/u/22204821?s=200&amp;v=4&quot; alt=&quot;Rehive Logo&quot;&gt;  &lt;h1 align=&quot;center&quot;&gt;DRF Rehive Extras&lt;/h1&gt;  &lt;p align=&quot;center&quot;&gt;Extra utilities for using Django REST Framework.&lt;/p&gt;&lt;/p&gt;## Features- Python &gt;= 3.6- Django &gt;= 3.0- Generic views and mixins for all CRUD.- Custom pagination that supports cursor and page based pagination.- Integrated support for flex fields and django filters.- Base serializers.- Metadata, timestamp, and enum serializer fields.- Schema generation support via drf-spectacular.## Getting started1. Install the package:```shpip install drf-rehive-extras```2. Add &quot;drf_rehive_extras&quot; to your `INSTALLED_APPS` settings like this:```pythonINSTALLED_APPS = [    # ...    'drf_rehive_extras',]```## Usage### Schema generationThis library allows you to use `drf-spectacular` to generate Open API schemas that match the Rehive eveloped request/response format as defined by the `drf-rehive-extras` views/serializers.To use schema generation, install `drf-spectacular` (in addition to `drf-rehive-extras` as described above):```shpip install drf-spectacular[sidecar]```And add the following to the `INSTALLED_APPS` settings:```pythonINSTALLED_APPS = [    # ...    'drf_spectacular',    'drf_spectacular_sidecar',]```Finally, configure the `REST_FRAMEWORK` settings with:```pythonREST_FRAMEWORK = {  'DEFAULT_SCHEMA_CLASS': 'drf_rehive_extras.schema.BaseAutoSchema',}```The `schema.BaseAutoSchema` class also includes functionality to attachadditional documentation to the schema via yaml files.To generate additional documentation, create a `docs.yaml` file in a `docs` folder in your Django app. The file should be formatted like this:```yamlapp.views.ExampleView:    GET:        operationId:        summary:        description:        x-code-samples:            - lang:              label:              source: &gt;            - lang: Python              label: Python SDK              source: &gt;```Then, in your `settings` file specify the above directory using the `ADDITIONAL_DOCS_DIRS` settings:```pythonimport osADDITIONAL_DOCS_DIRS = [    &quot;/root/app/docs/&quot;,]```### PaginationThis library adds extra pagination via `PageNumberPagination` and `CursorPagination` that can be used to generate paginated lists that return the results in the Rehive eveloped request/response format.You can use them like this:```pythonfrom drf_rehive_extras.pagination import PageNumberPaginationclass ExampleView(ListAPIView)    pagination_class = PageNumberPagination```These pagination classes will be automatically applied to any views that inherit from the `drf-rehive-extras` generics and mixins.### SerializersThis library includes base serializers that can be used to ensure all serializers share the same Rehive base:- `BaseModelSerializer` : A DRF `ModelSerializer` that includes `rest_flex_fields` functionality.- `ActionResponseSerializer` : A serializer that can be used to generate action responses.### Serializers fieldsThis library adds extra serializer fields that can be used in DRF serializers:- `MetadataField`- `TimestampField`- `EnumField`These fields can be used like normal serializer fields.### ViewsThis library includes a collection of generic views and mixins that can be used to ensure all views follow the same Rehive standard.The generic views can be used like this:```pythonfrom drf_rehive_extras.generics import ListAPIViewclass ListExampleModelView(ListAPIView):    serializer_class = ExampleModelSerializer    def get_queryset(self):        if getattr(self, 'swagger_fake_view', False):            return ExampleModel.objects.none()        return ExampleModel.objects.all().order_by('-created')```The generic views allow for the customization of the serializer based on the method. This can be done by adding a `serializer_classes` attribute to the view:```python# Single shared request/response serializer.serializer_classes = {    &quot;POST&quot;: ExampleModelRequestSerializer}# Multiple serializers, the first for the request and the second for the response.serializer_classes = {    &quot;POST&quot;: (ExampleModelRequestSerializer, ExampleModelResponseSerializer,)}```The generic views also support explicitly modifying the response status for a given method. This can be done via the `response_status_codes` attribute.```pythonresponse_status_codes = {&quot;POST&quot;: status.HTTP_202_ACCEPTED}```If possible, all generic views will attempt to add a `_resource` and `_resource_id` to the request object. This will only be done if there is a single model instance and the instance contains a `RESOURCE` and/or `RESOURCE_ID` attribute.Finally, in addition to the normal DRF generic views, the library contains an extra `ActionAPIView` that can be used for simple actions. These actions will default to a 200 response and will only ever return a `{&quot;status&quot;: &quot;success&quot;}` response.Usage is as follows:```pythonfrom drf_rehive_extras.generics import ActionAPIViewfrom drf_rehive_extras.serializers import ActionResponseSerializerclass ExampleActionView(ActionAPIView):    serializer_class = ExampleActionSerializer    serializer_classes = {        &quot;POST&quot;: (ExampleActionSerializer, ActionResponseSerializer,)    }```</longdescription>
</pkgmetadata>