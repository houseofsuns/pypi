<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE pkgmetadata SYSTEM "http://www.gentoo.org/dtd/metadata.dtd">
<pkgmetadata>
	<maintainer type="person">
		<email>gentoo@houseofsuns.org</email>
		<name>Markus Walter</name>
	</maintainer>
	<longdescription># Nowcast LibraryğŸ§™â™‚ï¸ğŸ”§ Utils that can be reused and shared across and beyond the ESO NowcastprojectThis is a public repository hosted on GitHub via a push mirror setup in the[internal ESO GitLab repository](https://gitlab.eso.org/gstarace/nowcastlib/)## InstallationSimply run```consolepip install nowcastlib```## Usage and DocumentationNowcast Library (nowcastlib) consists in a collection of functions organized insubmodules (API) and a tool accessible via the command line (CLI). The latter isprimarily intended for accessing the Nowcast Library Pipeline, an opinionatedyet configurable set of processing steps for wrangling data and evaluatingmodels in a consistent and rigorous way. More information can be found on thenowcastlib pipeline index page([link to markdown](nowcastlib/pipeline/README.md) and[link to hosted docs](https://giuliostarace.com/nowcastlib/pipeline))Please refer to the[examples folder](https://github.com/thesofakillers/nowcastlib/tree/master/examples)on GitHub for usage examples.### APIHere is a quick example of how one may import nowcastlib and access to one ofthe functions:```python&quot;&quot;&quot;Example showing how to access compute_trig_fields function&quot;&quot;&quot;import nowcastlib as nclimport pandas as pdimport numpy as npdata_df = pd.DataFrame(    np.array([[0, 3, 4, np.NaN], [32, 4, np.NaN, 4], [56, 8, 0, np.NaN]]).T,    columns=[&quot;A&quot;, &quot;B&quot;, &quot;C&quot;],    index=pd.date_range(start=&quot;1/1/2018&quot;, periods=4, freq=&quot;2min&quot;),)result = ncl.datasets.compute_trig_fields(data_df, [&quot;A&quot;, &quot;C&quot;])```More in-depth API documentation can be found[here](https://giuliostarace.com/nowcastlib/).### CLISome of the library's functionality is bundled in configurable subcommandsaccessible via the terminal with the command `nowcastlib`:```consoleusage: nowcastlib [-h] [-v]                  {triangulate,preprocess,sync,postprocess,datapipe} ...positional arguments:  {triangulate,preprocess,sync,postprocess,datapipe}                        available commands    triangulate         Run `nowcastlib triangulate -h` for further help    preprocess          Run `nowcastlib preprocess -h` for further help    sync                Run `nowcastlib sync -h` for further help    postprocess         Run `nowcastlib postprocess -h` for further help    datapipe            Run `nowcastlib datapipe -h` for further helpoptional arguments:  -h, --help            show this help message and exit  -v, --verbose         increase verbosity level from INFO to DEBUG```### Repository StructureThe following output is generated with `tree . -I 'dist|docs|*.pyc|__pycache__'````bash.â”œâ”€â”€ LICENSEâ”œâ”€â”€ Makefile # currently used to build docsâ”œâ”€â”€ README.mdâ”œâ”€â”€ de421.bsp # not committedâ”œâ”€â”€ docs/ # html files for the documentation static websiteâ”œâ”€â”€ examplesâ”‚Â Â  â”œâ”€â”€ README.mdâ”‚Â Â  â”œâ”€â”€ cli_triangulate_config.yamlâ”‚Â Â  â”œâ”€â”€ data/  # not committedâ”‚Â Â  â”œâ”€â”€ datasync.ipynbâ”‚Â Â  â”œâ”€â”€ output/ # not committedâ”‚Â Â  â”œâ”€â”€ pipeline_datapipe.jsonâ”‚Â Â  â”œâ”€â”€ pipeline_preprocess.jsonâ”‚Â Â  â”œâ”€â”€ pipeline_sync.jsonâ”‚Â Â  â”œâ”€â”€ signals.ipynbâ”‚Â Â  â””â”€â”€ triangulation.ipynbâ”œâ”€â”€ imagesâ”‚Â Â  â””â”€â”€ pipeline_flow.pngâ”œâ”€â”€ nowcastlib # the actual source code for the libraryâ”‚Â Â  â”œâ”€â”€ __init__.pyâ”‚Â Â  â”œâ”€â”€ cliâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ __init__.pyâ”‚Â Â  â”‚Â Â  â””â”€â”€ triangulate.pyâ”‚Â Â  â”œâ”€â”€ datasets.pyâ”‚Â Â  â”œâ”€â”€ dynlag.pyâ”‚Â Â  â”œâ”€â”€ gis.pyâ”‚Â Â  â”œâ”€â”€ pipelineâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ README.mdâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ __init__.pyâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ cli.pyâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ processâ”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ __init__.pyâ”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ postprocessâ”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ __init__.pyâ”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ cli.pyâ”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ generate.pyâ”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ preprocessâ”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ __init__.pyâ”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ cli.pyâ”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ utils.pyâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ splitâ”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ __init__.pyâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ structs.pyâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ syncâ”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ __init__.pyâ”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ cli.pyâ”‚Â Â  â”‚Â Â  â””â”€â”€ utils.pyâ”‚Â Â  â”œâ”€â”€ signals.pyâ”‚Â Â  â””â”€â”€ utils.pyâ”œâ”€â”€ poetry.lock # lock file generated by python poetry for dependency mgmtâ””â”€â”€ pyproject.toml # general information file, handled by python poetry```#### Directories and Files not CommittedThere are a number of files and folders that are not committed due to theirlarge and static nature that renders them inappropriate for git version control.The following files and folder warrant a brief explanation.-   Certain functions (time since sunset, sun elevation) of the Nowcast Library    rely on the use of a .bsp file, containing information on the locations    through time of various celestial bodies in the sky. This file will be    automatically downloaded upon using one of these functions for the first    time.-   The examples scripts make use of a `data/` directory containing a series of    csv files. Most of the data used in the examples can be downloaded from the    [ESO Ambient Condition Database](http://archive.eso.org/cms/eso-data/ambient-conditions.html).    Users can then change the paths set in the examples to fit their needs. For    users interested in replicating the exact structure and contents of the data    directory, a compressed copy of it (1.08 GB) is available to ESO members    through    [this Microsoft Sharepoint link](https://europeansouthernobservatory.sharepoint.com/:u:/t/OpticalTurbulenceandWeatherNowcast/EeH844GlBgdBjc63uaPiO4ABrh7ylH54zH3dJV9WSIhakA?e=gPBWJ7).-   At times the examples show the serialization functionality of the nowcastlib    pipeline or need to output some data. In these situations the `output/`    directory in the examples folder is used.## Development SetupThis repository relies on [Poetry](https://python-poetry.org/) for trackingdependencies, building and publishing. It is therefore recommended thatdevelopers [install poetry](https://python-poetry.org/docs/#installation) andmake use of it throughout their development of the project.### DependenciesMake sure you are in the right Python environment and run```consolepoetry install```This reads [pyproject.toml](./pyproject.toml), resolves the dependencies, andinstalls them.### DeploymentThe repository is published to [PyPi](https://pypi.org/), so to make itaccessible via a `pip install` command as mentioned [earlier](#install).To publish changes follow these steps. Ideally this process is automated via aCI tool triggered by a push/merge to the master branch:1. Optionally run   [`poetry version`](https://python-poetry.org/docs/cli/#version) with the   appropriate argument based on [semver guidelines](https://semver.org/).2. Update the documentation by running    ```console    make document    ```3. Prepare the package by running    ```console    poetry build    ```4. Ensure you have [TestPyPi](https://test.pypi.org/) and PyPi configured as   your poetry repositories:    ```console    poetry config repositories.testpypi https://test.pypi.org/legacy/    poetry config repositories.pypi https://pypi.org/    ```5. Publish the repository to TestPyPi, to see that everything works as expected:    ```console    poetry publish -r testpypi    ```6. Stage, commit and push your changes (to master) with git.7. Publish the repository to PyPi:    ```console    poetry publish -r pypi    ```Upon successful deployment, the library should be available for install via`pip`</longdescription>
</pkgmetadata>