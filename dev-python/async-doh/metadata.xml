<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE pkgmetadata SYSTEM "http://www.gentoo.org/dtd/metadata.dtd">
<pkgmetadata>
	<maintainer type="person">
		<email>gentoo@houseofsuns.org</email>
		<name>Markus Walter</name>
	</maintainer>
	<longdescription># async-doh[![PyPI](https://img.shields.io/pypi/v/async-doh.svg)]()DNS over HTTPS based on aiohttp and [async_dns](https://github.com/gera2ld/async_dns).## Installation```bash$ pip install async-doh```## Usage### Command-line```usage: python3 -m async_doh.client [-h] [-n NAMESERVERS [NAMESERVERS ...]] [-t TYPES [TYPES ...]] hostnames [hostnames ...]Async DNS resolver with DoHpositional arguments:  hostnames             the hostnames to queryoptional arguments:  -h, --help            show this help message and exit  -n NAMESERVERS [NAMESERVERS ...], --nameservers NAMESERVERS [NAMESERVERS ...]                        name servers  -t TYPES [TYPES ...], --types TYPES [TYPES ...]                        query types, default as `any````Examples:```sh$ python3 -m async_doh.client -n https://223.5.5.5/dns-query -t ANY -- www.google.com```### Client```pyimport asyncioimport aiohttpfrom async_doh.client import DoHClientasync def main():    async with DoHClient() as client:        result = await client.query('https://1.1.1.1/dns-query', 'www.google.com', 'A')        print('query:', result)        result = await client.query_json('https://1.1.1.1/dns-query', 'www.google.com', 'A')        print('query_json:', result)asyncio.run(main())```### Server```pyfrom aiohttp import webfrom async_doh.server import applicationweb.run(application)```Now you have `http://localhost:8080/dns-query` as an endpoint.### Patching async_dnsBy importing the patch, async_dns will use aiohttp to send queries through HTTPS (aka DNS over HTTPS):```pyimport asynciofrom async_dns.core import typesfrom async_dns.resolver import ProxyResolverfrom async_doh.client import patchasync def main():    revoke = await patch()    resolver = ProxyResolver(proxies=['https://dns.alidns.com/dns-query'])    res, _ = await resolver.query('www.google.com', types.A)    print(res)    await revoke()asyncio.run(main())```## References- &lt;https://tools.ietf.org/html/rfc8484&gt;</longdescription>
</pkgmetadata>