<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE pkgmetadata SYSTEM "http://www.gentoo.org/dtd/metadata.dtd">
<pkgmetadata>
	<maintainer type="person">
		<email>gentoo@houseofsuns.org</email>
		<name>Markus Walter</name>
	</maintainer>
	<longdescription># Transformersx##ä»‹ç»  [ğŸ¤— Transformers](https://github.com/huggingface/transformers) æ˜¯ä¸€ä¸ªéå¸¸å¥½ç”¨çš„ä¸“é—¨é’ˆå¯¹åŸºäºPytorchçš„Transformerç›¸å…³NLPæ·±åº¦å­¦ä¹ æ¨¡å‹çš„å·¥å…·åº“ã€‚å®ƒç®¡ç†å’Œå½’ç±»äº†å½“å‰å‡ ä¹æ‰€æœ‰çš„æœ€å¥½çš„åŸºäºçš„Transformerçš„è‡ªç„¶è¯­è¨€æ¨¡å‹ä»¥åŠå…¬å¼€çš„é¢„è®­ç»ƒæ¨¡å‹ï¼Œå¹¶éƒ½è½¬æ¢æˆäº†Pytorchã€‚ï¼ˆ1ï¼‰ä½¿ç”¨å®ƒä½ å¯ä»¥å¾ˆæ–¹ä¾¿çš„åšBert/Albert/GPT2/XLNETç­‰å½“å‰æœ€å¥½çš„è‡ªç„¶è¯­è¨€é¢„è®­ç»ƒæ¨¡å‹è®­ç»ƒä»¥åŠä¸‹æ¸¸ä»»åŠ¡çš„æ¨¡å‹å¼€å‘å’Œè®­ç»ƒã€‚ï¼ˆ2ï¼‰ä½¿ç”¨Pytorchå®ç°çš„æ¨¡å‹æœ‰æ›´æ¸…æ™°çš„ä»£ç æœºæ„ï¼Œå¯¹å­¦ä¹ è€…æ¥è¯´ï¼Œå­¦ä¹ å’Œç†è§£è¿™äº›è‡ªç„¶è¯­è¨€æ›´ä¸ºå®¹æ˜“ã€‚ï¼ˆ3ï¼‰æä¾›äº†ä¸€ä¸ªåœ°æ–¹æ”¶é›†å’Œå­˜æ”¾å…¬å¼€çš„è‡ªç„¶è¯­è¨€é¢„è®­ç»ƒæ¨¡å‹ï¼Œä¾›ç ”ç©¶äººå‘˜ä½¿ç”¨ã€‚ç ”ç©¶äººå‘˜ä¹Ÿå¯ä»¥æŠŠè‡ªå·±æ„¿æ„å…¬å¼€çš„é¢„è®­ç»ƒæ¨¡å‹æ”¾åˆ°Transformerä¸Šä¾›åˆ«äººç ”ç©¶ä½¿ç”¨ã€‚ä½†æ˜¯Transformersä¹Ÿæœ‰ä¸€äº›é—®é¢˜ï¼šï¼ˆ1ï¼‰æ ¹æ®å½“å‰çš„Transformersçš„å®ç°çœ‹ï¼Œæ‰€æœ‰çš„å…¬å¼€çš„Transformerçš„é¢„è®­ç»ƒæ¨¡å‹éƒ½æ˜¯å­˜æ”¾åœ¨AWSçš„S3ä¸Šã€‚å¯¹å›½å¤–çš„ç ”ç©¶äººå‘˜é‚£æ²¡æœ‰ä»€ä¹ˆé—®é¢˜ã€‚ä¸­å›½çš„ç ”ç©¶äººå‘˜éœ€è¦ä¸‹è½½è¿™äº›æ¨¡å‹å°±æœ‰ç‚¹è´¹å‘¨æŠ˜äº†ã€‚å½“å‰Transformersçš„æ¨¡å‹ä¸‹è½½æ–¹å¼æœ‰ä¸¤ç§ï¼šï¼ˆ1ï¼‰é€šè¿‡ä»£ç è°ƒç”¨æŒ‡å®šæ¨¡å‹æ—¶ï¼Œè‡ªåŠ¨å»ç›¸åº”çš„S3ä¸Šä¸‹è½½ã€‚ï¼ˆ2ï¼‰ç›´æ¥åˆ°Transformersçš„ç½‘ä¸Šæµé‡ç›¸åº”çš„æ¨¡å‹æ–‡ä»¶é€šè¿‡æµè§ˆå™¨ä¸‹è½½ã€‚åæ­£ä¸ç®¡é‚£ç§æ–¹å¼ï¼Œæƒ³é¡ºåˆ©çš„ä¸‹è½½ä¸‹æ¥ï¼Œè‡ªå·±æƒ³åŠæ³•å§ï½ã€‚ä¸å¤šè¯´ã€‚ï¼ˆ2ï¼‰å°½ç®¡Transformerså·²ç»æä¾›äº†ä¸€ç§æ¯”è¾ƒæ–¹ä¾¿çš„æ–¹å¼æ¥ä½¿ç”¨å„ç§Transformerç›¸å…³æ¨¡å‹äº†ã€‚ä½†æ˜¯è¿˜æ˜¯ä¸å¤Ÿå¥½ã€‚é¦–å…ˆï¼Œä»è®¾è®¡ä¸Šï¼Œå„ç§æ¨¡å‹çš„å®ç°å¾ˆä¸é”™ï¼Œä½†æ˜¯å› ä¸ºæ¨¡å‹çš„å®ç°ä¸æ¨¡å‹çš„å­˜å‚¨å’Œä¸‹è½½æ·±åº¦ç»‘å®šã€‚è¿™ä¸ªè®¾è®¡åº”è¯¥æ˜¯æœ‰é—®é¢˜çš„ã€‚ä»èŒè´£ä¸Šè¯´ï¼Œæ¨¡å‹çš„å®ç°å’Œæ¨¡å‹çš„å­˜å‚¨ä¸‹è½½åº”è¯¥åˆ†ç¦»ã€‚ï¼ˆ3ï¼‰Transformerså¢åŠ äº†ä¸€ä¸ªTrainerä»¥æ–¹ä¾¿ç ”ç©¶äººå‘˜è®­ç»ƒTransformeræ¨¡å‹ä½¿ç”¨ã€‚åŒæ ·ï¼Œè¿™ä¸ªTrainerçš„è®¾è®¡å’Œå®ç°æ°´å¹³è·Ÿæ¨¡å‹çš„è®¾è®¡å’Œå®ç°ä¹Ÿä¸€æ ·æœ‰ä¸å°‘çš„å·®è·ã€‚## ç›®çš„  æœ¬é¡¹ç›®çš„ç›®çš„æ˜¯æƒ³é’ˆå¯¹Transformersçš„ä¸€äº›é—®é¢˜ï¼Œå¯¹Transformersåšè¿›ä¸€æ­¥çš„æ‰©å±•ï¼Œè®©ç ”ç©¶äººå‘˜ä½¿ç”¨Transformersæ›´æ–¹ä¾¿ã€‚å½“ç„¶ä¹Ÿæ²¡æœ‰è§£å†³ä¸Šé¢æåˆ°çš„æ‰€æœ‰é—®é¢˜ã€‚### ï¼ˆ1ï¼‰é¦–å…ˆï¼Œé’ˆå¯¹ä¸‹è½½è¿™ä¸ªé—®é¢˜ã€‚  æœ¬é¡¹ç›®çš„è§£å†³æ–¹æ³•æ˜¯ï¼Œåœ¨dockerç›®å½•ä¸­æä¾›äº†å‡ ç§ç”¨äºTransformersç›¸å…³æ¨¡å‹çš„è®­ç»ƒå’Œè¿è¡Œç¯å¢ƒçš„Dockerå®šä¹‰ï¼Œåˆ©ç”¨é˜¿é‡Œäº‘çš„Dockeræµ·å¤–æ„å»ºæœºå™¨ï¼Œåœ¨æ„å»ºDockeræ˜¯é¡ºä¾¿æŠŠæŒ‡å®šçš„é¢„è®­ç»ƒæ¨¡å‹ä¸‹è½½ä¸‹æ¥ã€‚å½“å‰ä¸»è¦æ˜¯ä¸­æ–‡è¯­è¨€æ¨¡å‹ï¼ŒåŒ…æ‹¬bertã€albertã€robertã€electraã€‚å¯ä»¥ç›´æ¥ä»é˜¿é‡Œäº‘é•œåƒåº“è·å–ã€‚ç›¸å…³æ¨¡å‹æ”¾åœ¨é•œåƒçš„/app/modelsç›®å½•ä¸‹é¢ã€‚```docker pull registry.cn-beijing.aliyuncs.com/modoso/transformersx-bertdocker pull registry.cn-beijing.aliyuncs.com/modoso/transformersx-albertdocker pull registry.cn-beijing.aliyuncs.com/modoso/transformersx-robertdocker pull registry.cn-beijing.aliyuncs.com/modoso/transformersx-electra```æœ€å¥½ä½¿ç”¨è„šæœ¬download-models.sh ä¸‹è½½å¹¶ä»é•œåƒä¸­æŠŠæ¨¡å‹copyå‡ºæ¥çš„è„šæœ¬ã€‚```sh download-models.sh [æŒ‡å®šæ¨¡å‹å­˜æ”¾ç›®å½•]```### ï¼ˆ2ï¼‰ä¸ºäº†æ›´æ–¹ä¾¿çš„ä½¿ç”¨ï¼Œ(å½“ç„¶ï¼Œä½ å¾—å…ˆå‚ç…§ä¸Šé¢çš„æ¨¡å‹ä¸‹è½½æ–¹å¼ä¸‹è½½dockeré•œåƒæˆ–è€…æ¨¡å‹)é¦–å…ˆï¼Œä½ å¯ä»¥ç®€å•çš„åƒexamples.task.sentiment.sentiment_taské‚£æ ·å®ç°æƒ…æ„Ÿè¯†åˆ«ï¼Œåªéœ€è¦å®ç°ä¸€ä¸ªDataProcessorå’Œä¸€ä¸ªTask```pythonfrom ai_transformersx import DataProcessor,DataArguments,join_path,InputExample,log,TaskArgumentsfrom ai_transformersx.examples import ExampleTaskBaseimport pandas as pdclass SentimentDataProcessor(DataProcessor):    def __init__(self, config: DataArguments):        self._config = config    def _get_example(self, file_name, type):        pd_all = pd.read_csv(join_path(self._config.data_dir, file_name))        log.info(&quot;Read data from {}, length={}&quot;.format(join_path(self._config.data_dir, file_name), len(pd_all)))        examples = []        for i, d in enumerate(pd_all.values):            examples.append(InputExample(guid=type + '_' + str(i),                                         text_a=d[1],                                         label=str(d[0])))        return examples    def get_train_examples(self):        return self._get_example('train.csv', 'train')    def get_dev_examples(self):        return self._get_example('dev.csv', 'dev')    def get_labels(self):        return ['0', '1', '2', '3']    def data_dir(self):        return self._config.data_dirclass SentimentTask(ExampleTaskBase):    def __init__(self, taskArgs: TaskArguments = None):        super().__init__('sentiment', taskArgs)        self.task_args.model_args.num_labels = 4    def _data_processor(self):        return SentimentDataProcessor(self.task_args.data_args)```ç„¶åï¼Œåƒexamples.task.mainé‚£æ ·å®ç°å¯åŠ¨æ–¹æ³•ï¼š```pythonfrom ai_transformersx.examples import ExampleManagementfrom ai_transformersx.examples.tasks import SentimentTasktask_manager = ExampleManagement()task_manager.register_tasks([    ('sentiment', SentimentTask)])if __name__ == &quot;__main__&quot;:    task_manager.start_example_task()```æ¥ç€ï¼Œä½ å°±å¯ä»¥è®­ç»ƒä½ çš„æƒ…æ„Ÿè¯†åˆ«çš„æ¨¡å‹äº†ã€‚ä½ åº”è¯¥åœ¨ä¸‹è½½çš„é•œåƒæ¨¡å‹ä¸­è¿›è¡Œã€‚- æŸ¥çœ‹æ‰€æœ‰sentimentä»»åŠ¡å‚æ•°```    python main.py sentiment -h```- è®­ç»ƒæ¨¡å‹ï¼ˆå¯ä»¥å‚è€ƒä¸Šé¢çš„å¸®åŠ©åˆ—è¡¨è®¾ç½®ç›¸å…³çš„å‚æ•°ï¼‰```    python main.py sentiment```###  (3) å¸¸è§çš„ä¸­æ–‡çš„è‡ªç„¶è¯­è¨€ä»»åŠ¡çš„ä¾‹å­## TODO:  - ä½¿ç”¨ pytorchlightningå’Œfastaiæ¥å®ç°trainer- å¢åŠ æ›´å¤šçš„è‡ªç„¶è¯­è¨€ä»»åŠ¡çš„ä¾‹å­</longdescription>
</pkgmetadata>