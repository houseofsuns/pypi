<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE pkgmetadata SYSTEM "http://www.gentoo.org/dtd/metadata.dtd">
<pkgmetadata>
	<maintainer type="person">
		<email>gentoo@houseofsuns.org</email>
		<name>Markus Walter</name>
	</maintainer>
	<longdescription>Marketplace integrations for Kiwi TCMS======================================.. image:: https://codecov.io/gh/kiwitcms/github-marketplace/branch/master/graph/badge.svg?token=NQKAQMJ8N8    :target: https://codecov.io/gh/kiwitcms/github-marketplace    :alt: Code coverage badge.. image:: https://pyup.io/repos/github/kiwitcms/github-marketplace/shield.svg    :target: https://pyup.io/repos/github/kiwitcms/github-marketplace/    :alt: Python updates.. image:: https://tidelift.com/badges/package/pypi/kiwitcms-github-marketplace    :target: https://tidelift.com/subscription/pkg/pypi-kiwitcms-github-marketplace?utm_source=pypi-kiwitcms-github-marketplace&amp;utm_medium=github&amp;utm_campaign=readme    :alt: Tidelift.. image:: https://opencollective.com/kiwitcms/tiers/sponsor/badge.svg?label=sponsors&amp;color=brightgreen   :target: https://opencollective.com/kiwitcms#contributors   :alt: Become a sponsor.. image:: https://img.shields.io/twitter/follow/KiwiTCMS.svg    :target: https://twitter.com/KiwiTCMS    :alt: Kiwi TCMS on TwitterIntroduction------------This package provides the marketplace/payment integration for the`Kiwi TCMS multi-tenant SaaS &lt;https://kiwitcms.org/#subscriptions&gt;`_.Everyting that we do is open and that's why this piece of code isopen source as well. You don't need this add-on in order to run Kiwi TCMS!Installation------------    pip install kiwitcms-github-marketplaceConfiguration-------------Required settings:- ``KIWI_GITHUB_MARKETPLACE_SECRET`` - binary string- ``KIWI_FASTSPRING_SECRET`` - binary string- ``QUAY_IO_TOKEN`` - string- ``MAILCHIMP_USERNAME`` - string- ``MAILCHIMP_SECRET`` - stringProduct configuration---------------------- Subscriptions on FastSpring use the SKU field to define access to private  docker repositories. The format is ``repo_name1+repo_name2``, where  ``https://quay.io/kiwitcms/&lt;repo_name&gt;`` exists- FastSpring SKUs starting with &quot;x-&quot; are considered special and we don't  treat them as docker repository names- Plans on GitHub Marketplace use one of their bullet items to define access  to private docker repositories. Format is  ``Docker repositories: quay.io/kiwitcms/&lt;repo1&gt;, quay.io/kiwitcms/&lt;repo2&gt;``Changelog---------v2.3.6 (23 May 2023)~~~~~~~~~~~~~~~~~~~~- Try harder not to crash when handling non-recurring events from FastSpring- Force ``None`` value for SKU to be evaluated as empty stringv2.3.3 (21 May 2023)~~~~~~~~~~~~~~~~~~~~- Handle expiration of unpaid requests for add-on services- Unpin version for requests library to avoid potential conflicts  with other add-onsv2.3.2 (28 Apr 2023)~~~~~~~~~~~~~~~~~~~~- Update requests from 2.28.2 to 2.29.0- Don't fail when trying to delete user after subscription has been cancelledv2.3.1 (17 Apr 2023)~~~~~~~~~~~~~~~~~~~~- Discover billing cycle info from FastSpring subscription data- Update mailchimp3 from 3.0.17 to 3.0.18v2.3.0 (14 Apr 2023)~~~~~~~~~~~~~~~~~~~~- Add Admin interface so we can 'Approve' manual purchases- Display both monthly &amp; yearly price columns in admin panel- Refactor by using a generic purchase notification handling workflow class- Add preliminary support for yearly subscriptions on FastSpring by removing  hard-coded values- Add more testsv2.2.0 (07 Apr 2023)~~~~~~~~~~~~~~~~~~~~- Fix fallback typo for FastSpring SKUs- Adjust the fallback match string for Kiwi TCMS Enterprise on FastSpring- Update requests from 2.28.1 to 2.28.2- Adjust callbacks for newer PyGithub- Reformat files with Black- Don't raise general exceptionsv2.1.0 (15 Aug 2022)~~~~~~~~~~~~~~~~~~~~- Send an exit poll after a subscription has been cancelled- Add filters to Purchase admin page- Match username with email address for GitHub hooks too- Add Purchase.subscription field- Record subscription ID and search FastSpring tenants across  all possible billing emailsv2.0.5 (04 Aug 2022)~~~~~~~~~~~~~~~~~~~~- Fix a 500 error because of missing prism.js- Update requests from 2.27.1 to 2.28.1- Bump versions for the rest of eslint plugins- Adjust pylint options b/c of newer version- Report test results to Kiwi TCMSv2.0.4 (19 Apr 2022)~~~~~~~~~~~~~~~~~~~~- Add more tests related to tenant groups- Require kiwitcms-tenants&gt;=2.0- Update GitHub actions &amp; pre-commit hook versionsv2.0.3 (02 Mar 2022)~~~~~~~~~~~~~~~~~~~~- Fallback to searching by name instead of SKU for FastSpring because  the SKU field isn't reliably sent for existing subscribers.v2.0.2 (24 Feb 2022)~~~~~~~~~~~~~~~~~~~~- Add help block pointing to instructions for private containers  at the bottom of the Docker credentials cardv2.0.1 (23 Feb 2022)~~~~~~~~~~~~~~~~~~~~- Add 2 new fields to ``Purchase`` model in database to hold information  about enabled product features- Automatically configure product access via FastSpring SKUs or GitHub  Marketplace bullet items- Properly handle cancelled and deactivated subscriptions, removing user  accounts when needed- Automatically handle docker accounts on Quay.io when a subscriotion is made  and display them on the subscription page- Display the 2 new fields in Purchase admin- Ask subscribers to opt-in for newsletter- Add more automated tests &amp; CI toolsv1.7.0 (30 Sep 2021)~~~~~~~~~~~~~~~~~~~~- Search tenants either by owner email or username. Fixes an issue where  some tenant owners use the billing email as their username, while  changing the contact email in the Kiwi TCMS database- Adjust for backwards incompatible changes in PyGithub 1.55- Use f-stringsv1.6.0 (29 Aug 2021)~~~~~~~~~~~~~~~~~~~~- Fix a bug which allowed users to create multiple tenants- Fix `Sentry #KIWI-TCMS-H2 &lt;https://sentry.io/organizations/kiwitcms/issues/2584184445&gt;`_- Fix issues discovered by newest pylint- Don't allow user to create multiple tenants if they refresh the page, e.g.  after a 504 response. Instead redirect them to previously existing tenant- Migrate from Travis CI to GitHub Actions- Improvements of tests &amp; CIv1.5.0 (11 Jul 2021)~~~~~~~~~~~~~~~~~~~~- Test with Kiwi TCMS v10.1 or later- Require kiwitcms-tenants&gt;=1.5 in order to support public read-only tenants- Migrate to Python 3.8- Internal refactoringv1.4.0 (03 Mar 2021)~~~~~~~~~~~~~~~~~~~~- Don't delete users upon cancellation via GitHubv1.3.4 (18 Feb 2021)~~~~~~~~~~~~~~~~~~~~- Show new column in purchase admin- Stop advertising GitHub Marketplace subscriptionsv1.3.3 (25 Jan 2021)~~~~~~~~~~~~~~~~~~~~- Allow POST request (web hooks) without CSRF tokenv1.3.2 (26 Dec 2020)~~~~~~~~~~~~~~~~~~~~- Don't fail when cancelling GitHub FREE subscriptions for senders which  don't existv1.3.1 (09 Dec 2020)~~~~~~~~~~~~~~~~~~~~- Fix traceback when trying to create tenant and user is not logged inv1.3 (13 Sep 2020)~~~~~~~~~~~~~~~~~~- Tested with Kiwi TCMS &gt; 8.6- Refactor deprecation warnings with Django 3.1- Start using the new standard models.JSONField()- Remove ``tcms_settings_dir/marketplace.py`` b/c ``settings.PUBLIC_VIEWS``  has been removedv1.2 (06 Aug 2020)~~~~~~~~~~~~~~~~~~- Require kiwitcms-tenants&gt;=1.1- Subscribe button is now a drop-down listing all platforms oferring a  Private Tenant subscriptionv1.1 (24 Apr 2020)~~~~~~~~~~~~~~~~~~- Bug fix: display form errors when creating new tenant- Update template stringsv1.0 (17 Mar 2020)~~~~~~~~~~~~~~~~~~- Turn into proper Kiwi TCMS plugin and install settings overrides under  ``tcms_settings_dir/`` (compatible with Kiwi TCMS v8.2 or later):  - does not need ``MENU_ITEMS`` and ``PUBLIC_VIEWS`` override anymore  - does not need to load ``tcms_github_marketplace`` in ``INSTALLED_APPS``    manually- Jump over ``tcms_tenants.views.NewTenantView`` b/c it requires  ``tcms_tenants.add_tenant`` permission and here we don't need that- Exclude public tenant from recurring purchase hooks- Do not attempt delete for superuser cancelling their tenant purchasesv0.8.1 (15 Jan 2020)~~~~~~~~~~~~~~~~~~~~- Replace ``ugettext_lazy`` with ``gettext_lazy`` for Django 3.0v0.8 (07 Jan 2020)~~~~~~~~~~~~~~~~~~- Compatible with PyGithub v1.45+ which will be used in the upcoming  Kiwi TCMS v7.3v0.7.4 (08 Dec 2019)~~~~~~~~~~~~~~~~~~~~- ``utils.verify_signature()`` moved to ``tcms.utils.github`` as of  Kiwi TCMS v7.2- flake8 &amp; pylint fixesv0.7.3 (02 Nov 2019)~~~~~~~~~~~~~~~~~~~~- Fix a bug in reading pricing info when renewing subscriptions  via FastSpringv0.7.2 (29 May 2019)~~~~~~~~~~~~~~~~~~~~- Show vendor specific cancel URL- Don't crash when revoking GitHub tokens- Update subscription link via FastSpringv0.7.1 (25 May 2019)~~~~~~~~~~~~~~~~~~~~- Handle purchases from FastSpring- ``Purchase.sender`` is now an ``EmailField``v0.6.0 (16 May 2019)~~~~~~~~~~~~~~~~~~~~- Handle purchases for organizations- Do no use ``next_billing_date`` and use ``effective_date``  when calculating ``paid_until``v0.5.1 (16 May 2019)~~~~~~~~~~~~~~~~~~~~- Use the new ``delete_user()`` function when cancelling subscriptions- Extend UI card in subscription page to 6 columns b/c long URLv0.5.0 (15 May 2019)~~~~~~~~~~~~~~~~~~~~- Handle recurring purchases- Don't crash if visiting Create Tenant without a purchase- Show tenants which user can access and which they own- Show purchase history with Buy/Cancel buttons- Use ``prism.js`` for syntax highlighting- Add translation filesv0.4.1 (08 May 2019)~~~~~~~~~~~~~~~~~~~~- Don't crash if install URL is visited without purchase- Add Purchase admin, accessible only to superuser- [db] Rename ``marketplace_purchase`` field to ``payload`` and  add ``vendor`` field to ``Purchase`` model- Add a view which overrides tenant creation with information  from the latest purchase. This is what users will see when creating  their private tenants- When creating Private Tenant try to correctly set ``paid_until`` date  based on ``next_billing_date`` or ``billing_cycle`` fields in the payload  sent to us by GitHubv0.3.1 (03 May 2019)~~~~~~~~~~~~~~~~~~~~- Fix index name in models to be the same as in migrationsv0.3.0 (27 April 2019)~~~~~~~~~~~~~~~~~~~~~~- Handle Marketplace plan cancellationsv0.2.1 (27 April 2019)~~~~~~~~~~~~~~~~~~~~~~- Refactor how hooks and installation is handled. Now purchase info  is stored in database and we search for it during installation- Introduces database migrations- Free plan purchases from Marketplace still redirect to Public Tenantv0.1.1 (25 April 2019)~~~~~~~~~~~~~~~~~~~~~~- Handle GitHub hook pingsv0.1.0 (24 April 2019) - initial release~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~- Free plan purchases from Marketplace redirect to Public Tenant</longdescription>
</pkgmetadata>