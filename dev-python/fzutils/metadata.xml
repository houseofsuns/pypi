<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE pkgmetadata SYSTEM "http://www.gentoo.org/dtd/metadata.dtd">
<pkgmetadata>
	<maintainer type="person">
		<email>gentoo@houseofsuns.org</email>
		<name>Markus Walter</name>
	</maintainer>
	<longdescription>```bashâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•—â–ˆâ–ˆâ•—     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â•â•â•â•šâ•â•â–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â•šâ•â•â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—    â–ˆâ–ˆâ–ˆâ•”â• â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â•   â–ˆâ–ˆâ–ˆâ•”â•  â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘     â•šâ•â•â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â•šâ•â•     â•šâ•â•â•â•â•â•â• â•šâ•â•â•â•â•â•    â•šâ•â•   â•šâ•â•â•šâ•â•â•â•â•â•â•â•šâ•â•â•â•â•â•â•                                                   ```[![Build Status](https://travis-ci.org/EasyWeChat/site.svg?branch=master)](https://github.com/superonesfazai/fzutils)[![GitHub license](https://img.shields.io/github/license/superonesfazai/fzutils.svg)](https://github.com/superonesfazai/fzutils/blob/master/LICENSE.txt)[![GitHub forks](https://img.shields.io/github/forks/superonesfazai/fzutils.svg)](https://github.com/superonesfazai/fzutils/network)[![GitHub stars](https://img.shields.io/github/stars/superonesfazai/fzutils.svg)](https://github.com/superonesfazai/fzutils/stargazers)![](https://img.shields.io/github/issues/superonesfazai/fzutils.svg)[![Twitter](https://img.shields.io/twitter/url/https/github.com/superonesfazai/fzutils.svg?style=social)](https://twitter.com/intent/tweet?text=Wow:&amp;url=https%3A%2F%2Fgithub.com%2Fsuperonesfazai%2Ffzutils)# fzutils## è¿™æ˜¯ä»€ä¹ˆ?è¿™æ˜¯fzçš„python utilsåŒ…, for Spider.æ—¨åœ¨: é«˜æ•ˆå¿«é€Ÿçš„è¿›è¡Œçˆ¬è™«å¼€å‘çš„é›†æˆåŒ…## Install```bashpip3 install fzutils```## è¦æ±‚-  Python 3æˆ–æ›´é«˜ç‰ˆæœ¬.-  ä¾é çš„ä»£ç†æ± (äºŒé€‰ä¸€)    - [fz_ip_pool](https://github.com/superonesfazai/fz_ip_pools)    - [IPProxyPool](https://github.com/qiyeboy/IPProxyPool)## simple use```pythonfrom fzutils.ip_pools import (    IpPools,    ip_proxy_pool,    fz_ip_pool,)# é«˜åŒ¿# typeé»˜è®¤æ˜¯ip_proxy_pool, å¯ä¿®æ”¹ä¸ºfz_ip_pool, å…·ä½“çœ‹ä½ ä½¿ç”¨å“ªä¸ªipæ± ip_obj = IpPools(type=ip_proxy_pool, high_conceal=True)     # å¾—åˆ°ä¸€ä¸ªéšæœºip, eg: 'http://175.6.2.174:8088'proxy = ip_obj._get_random_proxy_ip()``````pythonfrom fzutils.spider.crawler import Crawler, AsyncCrawlerfrom fzutils.ip_pools import fz_ip_poolclass ASpider(Crawler):     # Crawlerä¸ºçˆ¬è™«åŸºç±»    def __init__(self, logger=None) -&gt; None:        super(ASpider, self).__init__(            ip_pool_type=fz_ip_pool,            log_print=True,            logger=logger,            log_save_path='logæ–‡ä»¶å­˜å‚¨path',            is_use_driver=True,            driver_executable_path='é©±åŠ¨path',        )class BSpider(AsyncCrawler):    &quot;&quot;&quot;å¼‚æ­¥çˆ¬è™«&quot;&quot;&quot;    pass_ = ASpider()``````pythonfrom fzutils.spider.fz_driver import BaseDriver, PHANTOMJSfrom fzutils.ip_pools import ip_proxy_pool# ip_pool_typeé»˜è®¤ä¹Ÿæ˜¯ip_proxy_pool# BaseDriveræ”¯æŒphantomjs, chromedriver, firefoxdriver_ = BaseDriver(type=PHANTOMJS, executable_path='xxx', ip_pool_type=ip_proxy_pool)   exec_code = '''js = 'document.body.scrollTop=10000'self.driver.execute_script(js) '''body = _.get_url_body(url='xxx', exec_code=exec_code)``````pythonfrom fzutils.spider.fz_requests import Requestsfrom fzutils.ip_pools import ip_proxy_pool# ip_pool_typeé»˜è®¤ä¹Ÿæ˜¯ip_proxy_poolbody = Requests.get_url_body(method='get', url='xxx', ip_pool_type=ip_proxy_pool)   ``````pythonimport asynciofrom fzutils.spider.fz_aiohttp import AioHttpasync def tmp():    _ = AioHttp(max_tasks=5)    return await _.aio_get_url_body(url='xxx', headers={})``````pythonfrom fzutils.time_utils import (    fz_set_timeout,    fz_timer,)from time import sleepimport sys# è®¾ç½®æ‰§è¡Œè¶…æ—¶@fz_set_timeout(2)def tmp():    sleep(3)# è®¡ç®—å‡½æ•°ç”¨æ—¶, æ”¯æŒsys.stdout.write or logger.info@fz_timer(print_func=sys.stdout.write)def tmp_2():    sleep(3)tmp()tmp_2()``````pythonfrom fzutils.log_utils import set_loggerfrom logging import INFO, ERRORlogger = set_logger(log_file_name='path', console_log_level=INFO, file_log_level=ERROR)``````pythonfrom fzutils.auto_ops_utils import auto_git# è‡ªåŠ¨åŒ–gitauto_git(path='xxx/path')``````pythonfrom fzutils.path_utils import cd# cd åˆ°ç›®æ ‡ä¸Šä¸‹æ–‡å¹¶è¿›è¡Œå…¶ä»–æ“ä½œwith cd('path'):    pass``````pythonfrom fzutils.sql_utils import (    BaseSqlServer,    pretty_table,)_ = BaseSqlServer(host='host', user='user', passwd='passwd', db='db', port='port')# dbç¾åŒ–æ‰“å°pretty_table(    cursor=_._get_one_select_cursor(        sql_str='sql_str',         params=('some_thing',)))``````pythonfrom fzutils.linux_utils import (    kill_process_by_name,    process_exit,)# æ ¹æ®process_name kill processkill_process_by_name(process_name='xxxx')# æ ¹æ®process_name åˆ¤æ–­processæ˜¯å¦å­˜åœ¨process_exit(process_name='xxxx')``````pythonfrom fzutils.linux_utils import daemon_initdef run_forever():    pass# å®ˆæŠ¤è¿›ç¨‹daemon_init()run_forever()``````pythonfrom fzutils.internet_utils import (    get_random_pc_ua,    get_random_phone_ua,)# éšæœºuser-agentpc_user_agent = get_random_pc_ua()phone_user_agent = get_random_phone_ua()``````pythonfrom fzutils.common_utils import _print# æ”¯æŒsys.stdout.write or logger_print(msg='xxx', logger=logger, exception=e, log_level=2)``````pythonfrom fzutils.auto_ops_utils import (    upload_or_download_files,    local_compress_folders,    remote_decompress_folders,)from fabric.connection import Connectionconnect_obj = Connection()# local ä¸ serverç«¯ ä¸Šä¼ æˆ–ä¸‹è½½æ–‡ä»¶upload_or_download_files(    method='put',    connect_object=connect_obj,    local_file_path='/Users/afa/myFiles/tmp/my_spider_logs.zip',    remote_file_path='/root/myFiles/my_spider_logs.zip')# æœ¬åœ°è§£å‹zipæ–‡ä»¶local_compress_folders(    father_folders_path='/Users/afa/myFiles',    folders_name='my_spider_logs',    default_save_path='xxxxxx')# è¿œç¨‹è§£å‹zipæ–‡ä»¶remote_decompress_folders(    connect_object=connect_obj,    folders_path='/root/myFiles/my_spider_logs.zip',    target_decompress_path='/root/myFiles/')``````pythonfrom fzutils.common_utils import json_2_dict# jsonè½¬dict, å¤„ç†éƒ¨åˆ†ä¸è§„èŒƒjson_dict = json_2_dict(json_str='json_str', logger=logger, encoding='utf-8')``````pythonfrom fzutils.auto_ops_utils import judge_whether_file_existsfrom fabric.connection import Connectionconnect_obj = Connection()# åˆ¤æ–­serveræ–‡ä»¶æ˜¯å¦å­˜åœ¨result = judge_whether_file_exists(connect_object=connect_obj, file_path='file_path')``````pythonfrom fzutils.email_utils import FZEmail_ = FZEmail(user='xxx', passwd='å¯†ç  or smtpæˆæƒç ')_.send_email(to=['xxx@gmail.com',], subject='é‚®ä»¶æ­£æ–‡', text='é‚®ä»¶å†…å®¹')``````pythonfrom requests import sessionsfrom fzutils.common_utils import (    save_obj,    get_obj,)s = sessions()# å¯¹è±¡æŒä¹…åŒ–å­˜å‚¨save_obj(s, 's.txt')get_obj('s.txt')``````pythonfrom fzutils.data.str_utils import (    char_is_chinese,    char_is_alphabet,    char_is_number,    char_is_other,)# å•å­—ç¬¦åˆ¤æ–­å…¶ç±»å‹print(char_is_chinese('ä½ '))print(char_is_alphabet('a'))print(char_is_number('1'))print(char_is_other('_'))``````pythonfrom fzutils.algorithm_utils import merge_sort# å½’å¹¶æ’åºprint(merge_sort([-1, 2, 1]))# è¿˜æœ‰å¾ˆå¤šå…¶ä»–æ’åºæ–¹æ³•``````pythonfrom fzutils.data.pickle_utils import deserializate_pickle_objectfrom pickle import dumpsa = dumps({'1':1,})# ååºåˆ—åŒ–pythonå¯¹è±¡print(deserializate_pickle_object(a))``````pythonfrom fzutils.aio_utils import get_async_execute_result# è·å–å¼‚æ­¥æ‰§è¡Œç»“æœres = get_async_execute_result(obj='xxxç±»', obj_method_name='xxxç±»æ–¹æ³•',)``````pythonfrom fzutils.common_utils import retrydef validate_res(res):    '''éªŒè¯ç»“æœçš„å‡½æ•°'''    if res == 5:        return True    else:        return False# é‡è¯•è£…é¥°å™¨@retry(max_retries=4, validate_func=validate_res)def a(t):    return t - 2print(a(7))```### curlcurl cmd è½¬ python ä»£ç ```pythonfrom fzutils.curl_utils import curl_cmd_2_py_code# ä½¿ç”¨å‰æ(å·²å®‰è£…: npm install --save curlconverter)curl_cmd = &quot;curl 'http://en.wikipedia.org/' -H 'Accept-Encoding: gzip, deflate, sdch' -H 'Accept-Language: en-US,en;q=0.8' -H 'User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/39.0.2171.95 Safari/537.36' -H 'Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8' -H 'Referer: http://www.wikipedia.org/' -H 'Cookie: GeoIP=US:Albuquerque:35.1241:-106.7675:v4; uls-previous-languages=%5B%22en%22%5D; mediaWiki.user.sessionId=VaHaeVW3m0ymvx9kacwshZIDkv8zgF9y; centralnotice_buckets_by_campaign=%7B%22C14_enUS_dsk_lw_FR%22%3A%7B%22val%22%3A%220%22%2C%22start%22%3A1412172000%2C%22end%22%3A1422576000%7D%2C%22C14_en5C_dec_dsk_FR%22%3A%7B%22val%22%3A3%2C%22start%22%3A1417514400%2C%22end%22%3A1425290400%7D%2C%22C14_en5C_bkup_dsk_FR%22%3A%7B%22val%22%3A1%2C%22start%22%3A1417428000%2C%22end%22%3A1425290400%7D%7D; centralnotice_bannercount_fr12=22; centralnotice_bannercount_fr12-wait=14' -H 'Connection: keep-alive' --compressed&quot;res = curl_cmd_2_py_code(curl_cmd)```### ocrè¯†åˆ«```pythonfrom fzutils.ocr_utils import (    baidu_ocr_captcha,    baidu_orc_image_main_body,    get_tracks_based_on_distance,    dichotomy_match_gap_distance,)# ç™¾åº¦orcè¯†åˆ«captchacaptcah = baidu_ocr_captcha(    app_id='xx',     api_key='xx',     secret_key='xx',     img_path='å›¾ç‰‡åœ°å€',     orc_type=2)# ç™¾åº¦ocrè¯†åˆ«å›¾ç‰‡ä¸»ä½“å†…å®¹ä½ç½®img_url = 'https://www.baidu.com/link?url=phUVHvSMIfwj2DPXnprj0BTv4loPocnLfNn-CVb7UQE4NLe7PH8GbrYKDkX2hzyp17Eqhy-s1rP8Zg92NEt0vqUxm_nhLoyRTaaxMFwq1oMdPaG_krazDsxHgLlql9QkZB92VhsTirtG53MvyecIFLjWeHjdyGCyTOaS-UcksfOJkPFOAJOFe4AoCxW5qQUbTahhjhjXWyihP-XmYIR5z-Gt3esBvFJpuHhUy7W6OODMrUZ2v7mUa9ng2BFKDy2MREyZQcXW80D3eDqWbIFLQ5BtEqWEknWa_1kxKXf4qo7GAZjkANyTP8D2PN0jHRw2AiWtN3d57J6GP4hksByVAzwIJWeWIiObv69Q1ekb2O_WsYLbKfzIsVLdlZGm5SHXnMgKZkRay_I8NKeq-wUb2wLKsGCjhRC1AV-GSv5Q7fIEj1QrSgQjLnW6Fjh55M5AaM9JRJLlXWhANegCn6jpJhnL7vcV1-kDgUcKQVFNq27fol2E2fG-d7ja03dizHCawAsIr6ortoWeqDdpyW4VOesI1VU6_WDdAWs96KZqVD2gATBs1U_D5nbYC9DAuZYK&amp;wd=&amp;eqid=81209347000143bf000000035b933e62'res = baidu_orc_image_main_body(img_url=img_url)# æ ¹æ®ç»™ä¸è·ç¦»ç”Ÿæˆä»¿ç”Ÿç§»åŠ¨è½¨è¿¹tracks = get_tracks_based_on_distance(distance=100)# äºŒåˆ†æ³•åŒ¹é…æ»‘å—ä¸ç¼ºå£é—´çš„è·ç¦»distance = dichotomy_match_gap_distance(bg_img_path='xxx', slide_img_path='xxx')```## qrcodeäºŒç»´ç è§£ç ```pythonfrom fzutils.qrcode_utils import decode_qrcodeimg_url = 'https://i.loli.net/2018/11/15/5bed1adce184e.jpg'print(decode_qrcode(img_url=img_url))```## æ‰¹é‡æ³¨å†Œè´¦å·```pythonfrom pprint import pprintfrom fzutils.register_utils import YiMaSmser_ = YiMaSmser(username='è´¦å·', pwd='å¯†ç ')project_id = 715while True:    # è·å–æ–°æ‰‹æœºå·    phone_num = _._get_phone_num(project_id=project_id)    print(phone_num)    a = input('æ˜¯å¦å¯ç”¨: ')    if a == 'y':        breakprint('\næœªæ³¨å†Œçš„: {}'.format(phone_num))# è·å–è¯¥æ‰‹æœºå·çš„çŸ­ä¿¡sms_res = _._get_sms(phone_num=phone_num, project_id=project_id)print(sms_res)# æŸ¥çœ‹è‡ªå·±çš„è´¦æˆ·ä½™é¢money_res = _._get_account_info()pprint(money_res)``````pythonfrom time import time, sleepfrom fzutils.register_utils import TwentyFourEmail_ = TwentyFourEmail()email_address = _._get_email_address()print('è·å–åˆ°çš„email_address: {}'.format(email_address))# # æ¢ä¸ªé‚®ç®±# email_address = _._get_new_email_address()# print(email_address)message_count = lambda : _._get_email_message_count()start_time = time()index = 1while message_count() in (0, None) and time() - start_time &lt; 100.:    sleep_time = 2    print('{} try, ä¼‘çœ {}s...'.format(index, sleep_time))    sleep(sleep_time)    index += 1message_list = _._get_email_message_list()print(message_list)```### ä»£ç æ¨¡æ¿ç”Ÿæˆ```pythonfrom fzutils.spider.auto import auto_generate_crawler_code# çˆ¬è™«åŸºæœ¬ä»£ç è‡ªåŠ¨ç”Ÿæˆå™¨auto_generate_crawler_code()&quot;&quot;&quot;shellè¾“å‡ºå¦‚ä¸‹: #--------------------------------# çˆ¬è™«æ¨¡æ¿è‡ªåŠ¨ç”Ÿæˆå™¨ by super_fazai#--------------------------------@@ ä¸‹é¢æ˜¯å¤‡é€‰å‚æ•°, æ— è¾“å…¥åˆ™å–é»˜è®¤å€¼!!è¯·è¾“å…¥author:super_fazaiè¯·è¾“å…¥email:superonesfazai@gmail.comè¯·è¾“å…¥åˆ›å»ºçš„æ–‡ä»¶å(ä¸å«.py):fz_spider_demoè¯·è¾“å…¥class_name:FZSpiderDemoåˆ›å»ºçˆ¬è™«æ–‡ä»¶fz_spider_demo.pyå®Œæ¯•!enjoy!ğŸº&quot;&quot;&quot;``````python# è¿˜æœ‰å¾ˆå¤šå…¶ä»–å¸¸ç”¨å‡½æ•°, å¾…æ‚¨æ¢ç´¢...```## èµ„æºfzutilsçš„home &lt; https://www.github.com/superonesfazai/python &gt;## ç‰ˆæƒå’Œä¿ä¿®æ­¤å‘è¡Œç‰ˆä¸­çš„ä»£ç ä¸ºç‰ˆæƒæ‰€æœ‰ (c) super_fazai, é™¤éå¦æœ‰æ˜ç¡®è¯´æ˜.fzutilsæ ¹æ®MITè®¸å¯è¯æä¾›, åŒ…å«çš„LICENSEæ–‡ä»¶è¯¦ç»†æè¿°äº†è¿™ä¸€ç‚¹.## è´¡çŒ®è€…-  super_fazai## ä½œè€…super_fazai&lt;author_email: superonesfazai@gmail.com&gt;</longdescription>
</pkgmetadata>